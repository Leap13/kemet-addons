!function(o){var t={init:function(){o(window).on("hashchange",t.tabs),o(window).on("ready",t.tabs()),o(document).on("click",".kemet-save-ajax",t.saveOptions),o(document).on("click",".kemet-reset-options",t.resetOptions),o(document).on("click",".kemet-enable-all-options",t.enableAllOptions),o(document).on("click",".kfw--switcher",t.switcher),o(document).on("ready",t.stickyFooter()),o(window).on("scroll",t.stickyFooter),o(window).on("kemet-tab-changed",t.stickyFooter)},tabs:function(){var t=window.location.hash.match(new RegExp("tab=([^&]*)"));tab=null!=t?(tabItem=o("."+t[1]+"-tab"),o("#"+t[1])):(tabItem=o(".kemet-panel-tabs").find("li:first-child"),o(".kemet-panel-tabs-content > div:first-child")),tabItem.addClass("active").siblings().removeClass("active"),tab.addClass("active").siblings().removeClass("active"),o(document).trigger("kemet-tab-changed",tab)},switcher:function(){var t=o(this).find("input"),e=0==t.val()?1:0;o(this).toggleClass("kfw--active"),t.val(e),t.trigger("change")},saveOptions:function(){if(!o(this).hasClass("updating-message")){var t=o(this),e=t.data("class"),a=t.data("id"),n=o("#"+a+" input"),s={};o(this).addClass("updating-message"),o.each(n,function(){var t=o(this),e=t.data("depend-id");s[e]=t.val()}),o.ajax({url:window.ajaxurl,type:"POST",data:{action:"kemet-panel-save-options",class:e,options:s}}).done(function(t){t.success&&window.location.reload()})}},resetOptions:function(){if(!o(this).hasClass("updating-message")){var t=o(this).data("class");o(this).addClass("updating-message"),o.ajax({url:window.ajaxurl,type:"POST",data:{action:"kemet-panel-reset-options",class:t}}).done(function(t){t.success&&window.location.reload()})}},enableAllOptions:function(){if(!o(this).hasClass("updating-message")){var t=o(this),e=t.data("class"),a=t.data("id"),n=o("#"+a+" .kfw--switcher input"),s={};o(this).addClass("updating-message"),o.each(n,function(){var t=o(this).data("depend-id");s[t]=1}),o.ajax({url:window.ajaxurl,type:"POST",data:{action:"kemet-panel-enable-all",class:e,options:s}}).done(function(t){t.success&&window.location.reload()})}},stickyFooter:function(){var t=o(document).find(".kemet-panel-footer");o.each(t,function(){var t=o(this),e=t.find(".kemet-panel-footer-inner"),a=parseInt(e.css("padding-left"))+parseInt(e.css("padding-right")),n=o(window).scrollTop()+o(window).height(),s=t.offset().top-n,i=Math.max(document.documentElement.clientWidth,window.innerWidth||0);0<=s&&782<i?(e.css({width:t.outerWidth()-a}),t.css({height:t.outerHeight()}).addClass("kemet-sticky")):(e.removeAttr("style"),t.removeAttr("style").removeClass("kemet-sticky"))})}};o(document).ready(function(){t.init()})}(jQuery,(window,document));