!function(l){document.addEventListener("KemetInitOptionsMeta",function(){var e=l(document).find(".kmt-post-options"),s=kemetAddons.hooks_descriptions,t=e.find(".kmt-hooks-select select"),o=t.val(),i=e.find(".kmt-hooks-select .kfw-text-desc");""!=s[o]&&void 0!==s[o]&&i.html("Action to add your content or snippet "+s[o]+"."),t.change(function(){var e=l(this).val(),t=s[e];""!=s[e]&&void 0!==s[e]?i.html("Action to add your content or snippet "+t+"."):i.html("")});function n(o,e){l.each(e,function(e,t){var s=o;postID=t.toString(),postID.includes(",")?(t=postID.split(","),l.each(t,function(e,t){l.post(kemetAddons.ajax_url,{post_id:t,action:"kemet_get_post_title",nonce:kemetAddons.ajax_title_nonce}).done(function(e){s.append(new Option(e,t,!1,!0))})})):l.post(kemetAddons.ajax_url,{post_id:postID,action:"kemet_get_post_title",nonce:kemetAddons.ajax_title_nonce}).done(function(e){s.append(new Option(e,postID,!1,!0))})})}o=""!=kemetAddons.display_old_value?kemetAddons.display_old_value:"",t=""!=kemetAddons.hide_old_value?kemetAddons.hide_old_value:"";"object"==typeof o&&null!=o&&n(l(".kmt-display-on-specifics-select").find("select"),o),"object"==typeof t&&null!=t&&n(l(".kmt-hide-on-specifics-select").find("select"),t);e.find(".kmt-hide-on-specifics-select , .kmt-display-on-specifics-select").find("select").each(function(e,t){""==l(t=t).val()&&l(t).html(""),console.log(l(t)),l(t).select2({placeholder:kemetAddons.search,ajax:{url:kemetAddons.ajax_url,dataType:"json",method:"post",delay:250,data:function(e){return{query:e.term,page:e.page,action:"kemet_ajax_get_posts_list",nonce:kemetAddons.ajax_nonce}},processResults:function(e){return{results:e}},cache:!0},minimumInputLength:2,language:kemetAddons.lang,width:"100%"})});t=e.find(".display-on-rule , .hide-on-rule").find("select");t.select2({width:"100%"}),t.each(function(e,t){var s=l(this).val(),o=l(this).attr("data-depend-id");if(null!=s&&s.includes("specifics-location"))switch(o){case"display-on-rule":l(".kmt-display-on-specifics-select").css("display","block");break;case"hide-on-rule":l(".kmt-hide-on-specifics-select").css("display","block")}else switch(o){case"display-on-rule":l(".kmt-display-on-specifics-select").css("display","none");break;case"hide-on-rule":l(".kmt-hide-on-specifics-select").css("display","none")}}),t.change(function(){var e=l(this).val(),t=l(this).attr("data-depend-id");if(null!=e&&e.includes("specifics-location"))switch(t){case"display-on-rule":l(".kmt-display-on-specifics-select").css("display","block");break;case"hide-on-rule":l(".kmt-hide-on-specifics-select").css("display","block")}else switch(t){case"display-on-rule":l(".kmt-display-on-specifics-select").css("display","none");break;case"hide-on-rule":l(".kmt-hide-on-specifics-select").css("display","none")}}),console.log(e.find(".kmt-user-rules")),e.find(".kmt-user-rules").find("select").select2({width:"100%"});var d,c=l(".enable-code-editor").find("input");l("#kemet_code_editor");-1<(d=window.location.href).indexOf("&code_editor")||1==c.val()&&-1==d.indexOf("&wordpress_editor")?(c.parent().addClass("kfw--active"),l("body").addClass("kemet-code-editor"),c.val(1)):((-1<d.indexOf("&wordpress_editor")||0==c.val()||-1==d.indexOf("&code_editor"))&&(l("body").hasClass("kemet-code-editor")&&l("body").removeClass("kemet-code-editor"),c.parent().removeClass("kfw--active")),c.val(0)),c.change(function(){var e=l(this).val(),t=window.location.href;1==e?(-1<t.indexOf("&wordpress_editor")&&(t=t.replace("&wordpress_editor","")),window.location.replace(t+"&code_editor")):(-1<t.indexOf("&code_editor")&&(t=t.replace("&code_editor","")),t+="&wordpress_editor",window.location.replace(t))})})}(jQuery);