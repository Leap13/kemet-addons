!function(a){document.addEventListener("KemetInitOptionsMeta",function(){var o=a(document).find(".kmt-post-options"),t=kemetAddons.hooks_descriptions,e=o.find(".kmt-hooks-select"),n=e.val(),i=o.find("#hook-action .description");""!=t[n]&&void 0!==t[n]&&i.html("Action to add your content or snippet "+t[n]+"."),e.change(function(){var e=a(this).val(),n=t[e];""!=t[e]&&void 0!==t[e]?i.html("Action to add your content or snippet "+n+"."):i.html("")});function s(o,e){a.each(e,function(e,n){var t=o;postID=n.toString(),postID.includes(",")?(n=postID.split(","),a.each(n,function(e,n){a.post(kemetAddons.ajax_url,{post_id:n,action:"kemet_get_post_title",nonce:kemetAddons.ajax_title_nonce}).done(function(e){t.append(new Option(e,n,!1,!0))})})):a.post(kemetAddons.ajax_url,{post_id:postID,action:"kemet_get_post_title",nonce:kemetAddons.ajax_title_nonce}).done(function(e){t.append(new Option(e,postID,!1,!0))})})}n=""!=kemetAddons.display_old_value?kemetAddons.display_old_value:"",e=""!=kemetAddons.hide_old_value?kemetAddons.hide_old_value:"";"object"==typeof n&&null!=n&&s(o.find(".kmt-display-on-specifics-select"),n),"object"==typeof e&&null!=e&&s(o.find(".kmt-hide-on-specifics-select"),e);o.find(".kmt-hide-on-specifics-select , .kmt-display-on-specifics-select").each(function(e,n){""==a(n=n).val()&&a(n).html(""),a(n).select2({placeholder:kemetAddons.search,ajax:{url:kemetAddons.ajax_url,dataType:"json",method:"post",delay:250,data:function(e){return{query:e.term,page:e.page,action:"kemet_ajax_get_posts_list",nonce:kemetAddons.ajax_nonce}},processResults:function(e){return{results:e}},cache:!0},minimumInputLength:2,language:kemetAddons.lang,width:"100%"}).on("change",function(e){var n=a(e.target).val();e.target.dispatchEvent(new CustomEvent("onCustomChange",{detail:{value:n}}))})});e=o.find(".display-on-rule , .hide-on-rule");e.select2({width:"100%"}).on("change",function(e){var n=a(e.target).val();e.target.dispatchEvent(new CustomEvent("onCustomChange",{detail:{value:n}}))}),e.each(function(e,n){var t=a(this).val();null!=t&&t.includes("specifics-location")?(a(n).hasClass("display-on-rule")?o.find("#display-on-specifics-location"):o.find("#hide-on-specifics-location")).css("display","block"):(a(n).hasClass("display-on-rule")?o.find("#display-on-specifics-location"):o.find("#hide-on-specifics-location")).css("display","none")}),e.on("change",function(){var e=a(this).val(),n=a(this);null!=e&&e.includes("specifics-location")?(a(n).hasClass("display-on-rule")?o.find("#display-on-specifics-location"):o.find("#hide-on-specifics-location")).css("display","block"):(a(n).hasClass("display-on-rule")?o.find("#display-on-specifics-location"):o.find("#hide-on-specifics-location")).css("display","none")}),o.find(".kmt-user-rules").select2({width:"100%"}).on("change",function(e){var n=a(e.target).val();e.target.dispatchEvent(new CustomEvent("onCustomChange",{detail:{value:n}}))})})}(jQuery);