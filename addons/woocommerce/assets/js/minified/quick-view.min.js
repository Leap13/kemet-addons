!function(m){"undefined"!=typeof kemet&&(KmtQuickView={init:function(){this.bind(),this.quickViewStyle()},bind:function(){m(document).off("click",".kmt-quick-view , .kmt-qv-on-list , .kmt-qv-on-image, .kmt-qv-icon, .kmt-quickview-icon").on("click",".kmt-quick-view, .kmt-qv-on-list , .kmt-qv-on-image , .kmt-qv-icon, .kmt-quickview-icon",KmtQuickView.openModel),m(document).off("click",".kmt-qv-close , .kmt-close-qv").on("click",".kmt-qv-close , .kmt-close-qv",KmtQuickView.closeModel),m(document).on("keyup",KmtQuickView.EscKeypress)},quickViewStyle:function(){m("#kmt-qv-content").css({"max-width":parseFloat(m(window).width())-150,"max-height":parseFloat(m(window).height())-150})},openModel:function(t){t.preventDefault();var t=m(this).data("product_id"),n=m("#kmt-qv-wrap"),i=m(".kmt-qv-overlay"),o=m("#kmt-qv-content");i.addClass("visible"),i.addClass("loading"),m.ajax({url:kemet.ajax_url,type:"POST",dataType:"html",data:{action:"kemet_load_quick_view",product_id:t},success:function(t){var e=m("html").innerWidth();m("html").css("overflow","hidden");var i=m("html").innerWidth();m("html").css("margin-right",i-e),m("html").addClass("kmt-qv-open"),o.html(t),n.fadeIn(),n.addClass("is-visible");t=o.find(".kmt-qv-image");1<t.find("li").length&&t.flexslider()}}).done(function(){var t=m("#kmt-qv-content .images").find(".woocommerce-product-gallery__image").outerHeight(),e=m("#kmt-qv-content").outerHeight();e<=t?m("#kmt-qv-content .entry-summary , #kmt-qv-content").css({"max-height":parseFloat(t)}):m("#kmt-qv-content .entry-summary, #kmt-qv-content").css({"max-height":parseFloat(e)}),i.removeClass("loading")})},closeModel:function(t){t.preventDefault();var e=m("#kmt-qv-wrap"),t=m(".kmt-qv-overlay"),i=m("#kmt-qv-content");m("html").css({overflow:"","margin-right":""}),m("html").removeClass("kmt-qv-open"),e.fadeOut(),e.removeClass("is-visible"),t.removeClass("visible"),setTimeout(function(){i.html("")},600)},EscKeypress:function(t){t.preventDefault(),27===t.keyCode&&KmtQuickView.closeModel(t)}},m(function(){KmtQuickView.init()}))}(jQuery);