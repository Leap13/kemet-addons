!function(l){KmtQuickView={init:function(){this.bind()},bind:function(){l(document).off("click",".kmt-quick-view").on("click",".kmt-quick-view",KmtQuickView.openModel),l(document).off("click",".kmt-qv-close").on("click",".kmt-qv-close",KmtQuickView.closeModel),l(document).on("keyup",KmtQuickView.EscKeypress)},openModel:function(e){e.preventDefault();var t=l(this),i=t.data("product_id"),o=l("#kmt-qv-wrap"),c=l("#kmt-qv-content");t.addClass("loading"),l.ajax({url:kemet.ajax_url,type:"POST",dataType:"html",data:{action:"kemet_load_quick_view",product_id:i},success:function(e){var t=l("html").innerWidth();l("html").css("overflow","hidden");var i=l("html").innerWidth();l("html").css("margin-right",i-t),l("html").addClass("kmt-qv-open"),c.html(e),o.fadeIn(),o.addClass("is-visible");var n=c.find(".kmt-qv-image");1<n.find("li").length&&n.flexslider()}}).done(function(){t.removeClass("loading")})},closeModel:function(e){e.preventDefault();var t=l("#kmt-qv-wrap"),i=l("#kmt-qv-content");l("html").css({overflow:"","margin-right":""}),l("html").removeClass("kmt-qv-open"),t.fadeOut(),t.removeClass("is-visible"),setTimeout(function(){i.html("")},600)},EscKeypress:function(e){e.preventDefault(),27===e.keyCode&&KmtQuickView.closeModel(e)}},l(function(){KmtQuickView.init()})}(jQuery);