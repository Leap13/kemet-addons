!function(c){"use strict";var e=c(".kmt-woo-filter"),a=c("#kmt-off-canvas-wrap"),s=c(".kmt-off-canvas-sidebar");c(document).off("click",".kmt-off-canvas-overlay, .kmt-close-filter").on("click",".kmt-off-canvas-overlay, .kmt-close-filter",function(e){e.preventDefault(),a.removeClass("side-off-canvas-filter"),s.removeClass("side-off-canvas-filter")}),e.click(function(e){e.preventDefault(),a.addClass("side-off-canvas-filter"),s.addClass("side-off-canvas-filter")});var t={init:function(){var s=this,e=s.getCookie("kemet_shop_layout");"cookie"!=e&&"undefined"!=e&&s.defaultStyle(e),c("a.kmt-grid-style").on("click",function(e){var a=c(this);s.gridMode(e,a)}),c("a.kmt-list-style").on("click",function(e){var a=c(this);s.listMode(e,a)})},gridMode:function(e,a){if(e.preventDefault(),!a.hasClass("active")){var s=c("body"),t=a.data("layout"),o=a.siblings("a").data("layout"),l=c(".kmt-woocommerce-container .products"),i=kemet.shop_load_layout_style||"",r="";switch(t){case"hover-style":r="kemet_hover_style_post_ajax";break;case"shop-grid":r="kemet_product_default_style"}var n={action:r,query:kemet.query_vars,nonce:i};a.addClass("active"),a.siblings().removeClass("active"),c.ajax({url:kemet.ajax_url,data:n,type:"POST",beforeSend:function(e){l.addClass("load-ajax")},success:function(e){e&&(l.html(e),a.addClass("active"),a.siblings().removeClass("active"),s.addClass(t),s.removeClass(o),l.removeClass("load-ajax")),Cookies.set("kemet_shop_layout",t,{expires:.1,path:"/"})}})}},listMode:function(e,a){if(e.preventDefault(),!a.hasClass("active")){var s=c("body"),t=a.data("layout"),o=a.siblings("a").data("layout"),l=c(".kmt-woocommerce-container .products"),i=kemet.shop_load_layout_style||"",r={action:"kemet_list_post_ajax",query:kemet.query_vars,nonce:i};a.addClass("active"),a.siblings().removeClass("active"),c.ajax({url:kemet.ajax_url,data:r,type:"POST",beforeSend:function(e){l.addClass("load-ajax")},success:function(e){e&&(l.html(e),a.addClass("active"),a.siblings().removeClass("active"),s.addClass(t),s.removeClass(o),l.removeClass("load-ajax")),Cookies.set("kemet_shop_layout","shop-list",{expires:.1,path:"/"})}})}},getCookie:function(e){for(var a=e+"=",s=decodeURIComponent(document.cookie).split(";"),t=0;t<s.length;t++){for(var o=s[t];" "==o.charAt(0);)o=o.substring(1);if(0==o.indexOf(a))return o.substring(a.length,o.length)}return""},defaultStyle:function(e){var a=e,s=c("body");switch(c(".kmt-toolbar").find("a").each(function(){var e=c(this);e.data("layout")==a&&(e.addClass("active"),e.siblings().removeClass("active"))}),s.addClass(a),e){case"hover-style":s.removeClass("grid-style shop-list");break;case"grid-style":s.removeClass("hover-style shop-list");break;case"shop-list":s.removeClass("hover-style grid-style")}}};c(function(){t.init()})}(jQuery);