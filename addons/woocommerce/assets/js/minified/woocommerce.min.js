!function(c){"use strict";var e=c(".kmt-woo-filter"),t=c("#kmt-off-canvas-wrap"),a=c(".kmt-off-canvas-sidebar");c(document).off("click",".kmt-off-canvas-overlay, .kmt-close-filter").on("click",".kmt-off-canvas-overlay, .kmt-close-filter",function(e){e.preventDefault(),t.removeClass("side-off-canvas-filter"),a.removeClass("side-off-canvas-filter")}),e.click(function(e){e.preventDefault(),t.addClass("side-off-canvas-filter"),a.addClass("side-off-canvas-filter")});var s={init:function(){var a=this,e=a.getCookie("kemet_shop_layout"),t=c(".kmt-toolbar .shop-list-style");""==e||"undefined"==e||kemet.in_customizer||a.defaultStyle(e),t.find("a").click(function(e){var t=c(this);e.preventDefault(),a.loadAjax(t)})},loadAjax:function(t){if(!t.hasClass("active")){var a=c("body"),s=t.data("layout"),o=t.siblings("a").data("layout"),i=c(".kmt-woocommerce-container .products"),e=kemet.shop_load_layout_style||"",n="";switch(s){case"hover-style":n="kemet_hover_style_post_ajax";break;case"shop-grid":n="kemet_product_default_style";break;case"shop-list":n="kemet_list_post_ajax"}var l={action:n,query:kemet.query_vars,nonce:e};t.addClass("active"),t.siblings().removeClass("active"),c.ajax({url:kemet.ajax_url,data:l,type:"POST",beforeSend:function(e){i.addClass("load-ajax")},success:function(e){e&&(i.html(e),t.addClass("active"),t.siblings().removeClass("active"),a.addClass(s),a.removeClass(o),i.removeClass("load-ajax")),Cookies.set("kemet_shop_layout",s,{expires:.1,path:"/"})}})}},getCookie:function(e){for(var t=e+"=",a=decodeURIComponent(document.cookie).split(";"),s=0;s<a.length;s++){for(var o=a[s];" "==o.charAt(0);)o=o.substring(1);if(0==o.indexOf(t))return o.substring(t.length,o.length)}return""},defaultStyle:function(e){var t=e,a=c("body");switch(c(".kmt-toolbar").find("a").each(function(){var e=c(this);e.data("layout")==t&&(e.addClass("active"),e.siblings().removeClass("active"),0)}),t){case"hover-style":a.removeClass("grid-style shop-list");break;case"shop-grid":a.removeClass("hover-style shop-list");break;case"shop-list":a.removeClass("hover-style grid-style")}a.addClass(t)}};c(function(){s.init()});!function(){var e=kemet.pagination_style,a=parseInt(kemet.shop_infinite_total)||"",s=parseInt(kemet.shop_infinite_count)||"",o=kemet.ajax_url||"",i=!0,n=c(".kmt-infinite-scroll-dots"),l=c(".infinite-scroll-end-msg"),r=kemet.shop_infinite_nonce||"";if(typeof e&&"infinite-scroll"==e){if("undefined"!=typeof wp&&void 0!==wp.customize)return;if(0<c("#main").find(".product:last").length){var t=jQuery(window).outerHeight()/1.25;c(window).scroll(function(){if(c(window).scrollTop()+t>=c("#main").find(".product:last").offset().top){if(a<s)return!1;1==i&&(function(e){n.show();var t={action:"kemet_infinite_scroll",page_no:e,nonce:r,query_vars:kemet.query_vars};c.post(o,t,function(e){var t=c(e);c("#main > .kmt-woocommerce-container ul.products").append(t),n.hide(),a<s&&l.show(),i=!0})}(s),s++,i=!1)}})}}}()}(jQuery);