!function(a){"use strict";var t=a(".kmt-woo-filter"),e=a("#kmt-off-canvas-wrap"),o=a(".kmt-off-canvas-sidebar");a(document).off("click",".kmt-off-canvas-overlay, .kmt-close-filter").on("click",".kmt-off-canvas-overlay, .kmt-close-filter",function(t){t.preventDefault(),e.removeClass("side-off-canvas-filter"),o.removeClass("side-off-canvas-filter")}),t.click(function(t){t.preventDefault(),e.addClass("side-off-canvas-filter"),o.addClass("side-off-canvas-filter")});function n(){var t=a("div.quantity:not(.buttons_added), td.quantity:not(.buttons_added)").find(".qty");0<t.length&&"date"!==t.prop("type")&&"hidden"!==t.prop("type")&&(t.parent().addClass("buttons_added"),t.before('<a href="javascript:void(0)" class="minus" >-</a>'),t.after('<a href="javascript:void(0)" class="plus" >+</a>'),a(".plus, .minus").unbind("click"),a("form.cart , .woocommerce-cart-form").on("click",".plus, .minus",function(t){t.preventDefault();var e=a(this).closest(".quantity , td.product-quantity").find(".qty"),o=parseFloat(e.val()),n=parseFloat(e.attr("max")),i=parseFloat(e.attr("min")),t=parseFloat(e.attr("step"));o&&""!==o&&"NaN"!==o||(o=0),""!==n&&"NaN"!==n||(n=""),""!==i&&"NaN"!==i||(i=0),"any"!==t&&""!==t&&void 0!==t&&"NaN"!==parseFloat(t)||(t=1),a(this).is(".plus")?n&&n<=o?e.val(n):e.val(o+t):i&&o<=i?e.val(i):1<=o&&e.val(o-t),e.trigger("change")}))}a(window).ready(function(){n()}),a(document).ajaxComplete(function(){n()});var i,s,r,l,c,f,d,u,m,p;function v(t){d.show(),u.hide();t={action:"kemet_infinite_scroll",page_no:t,nonce:p,query_vars:kemet.query_vars};a.post(c,t,function(t){var e=a(t),t=a("#main > .kmt-woocommerce-container ul.products");d.hide(),u.show(),t.append(e),r<l&&(u.hide(),d.hide(),m.show()),f=!0})}a("body").hasClass("archive")&&a("body").hasClass("woocommerce")&&(s=kemet.pagination_style,r=parseInt(kemet.shop_infinite_total)||"",l=parseInt(kemet.shop_infinite_count)||"",c=kemet.ajax_url||"",f=!0,d=a(".kmt-woo-infinite-scroll-dots"),u=a(".woo-load-more-text"),m=a(".woo-infinite-scroll-end-msg"),p=kemet.shop_infinite_nonce||"","button"==kemet.woo_infinite_scroll_style&&d.hide(),typeof s&&"infinite-scroll"==s&&("undefined"!=typeof wp&&void 0!==wp.customize||("dots"==kemet.woo_infinite_scroll_style?0<a("#main").find(".product:last").length&&(i=jQuery(window).outerHeight()/1.25,a(window).scroll(function(){if(a(window).scrollTop()+i>=a("#main").find(".product:last").offset().top){if(r<l)return!1;1==f&&(v(l),l++,f=!1)}})):a(".woo-load-more-text").click(function(){return!(r<l)&&void(1==f&&(v(l),l++,f=!1))}))));function w(){var t=a(".kmt-gallary-vertical"),e=t.find(".flex-control-nav");0<t.length&&(768<a(window).width()?(t=t.find(".flex-viewport").height())+50<e.height()&&e.css({"max-height":t+"px","overflow-y":"scroll"}):e.css({"max-height":"","overflow-y":""}))}w(),a(window).on("load",function(){setTimeout(function(){w()},500)}),a(window).on("resize",function(){w()})}(jQuery);