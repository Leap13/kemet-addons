!function(){var m={topOffSet:0,mainOffSet:0,bottomOffSet:0,activeHeader:"desktop",stickySections:{top:{enable:kemet.stickyTop,mobileEnable:kemet.stickyMobileTop},main:{enable:kemet.stickyMain,mobileEnable:kemet.stickyMobileMain},bottom:{enable:kemet.stickyBottom,mobileEnable:kemet.stickyMobileBottom}},isMobile:!1,enabledSections:[],init:function(){window.addEventListener("resize",m.sticky,!1),window.addEventListener("scroll",m.sticky,!1),window.addEventListener("scroll",m.setShrinkHeight,!1),window.addEventListener("load",m.sticky,!1),window.addEventListener("load",m.setHeight,!1),window.addEventListener("load",m.setShrinkHeight,!1),window.addEventListener("resize",m.setHeight,!1),"on"==kemet.stickyMain&&"on"==kemet.enableShrink&&window.addEventListener("scroll",m.setShrinkHeight,!1)},stickySection:function(e){var t=document.querySelector("#kmt-"+m.activeHeader+"-header"),i=t.querySelector("."+e+"-header-bar"),n=t.querySelector(".kmt-"+e+"-header-wrap"),a=0,o=i.getAttribute("data-height"),r=i.getAttribute("data-offset");1<m.enabledSections.length&&(a=m.offSetTop(e).top,r=m.offSetTop(e).offSet),window.scrollY>r?(i.style.top=a+"px",n.style.minHeight=o+"px",i.classList.add("kmt-is-sticky")):(i.style.top=null,n.style.minHeight=null,i.classList.remove("kmt-is-sticky","swing"))},getOffset:function(e){if(e instanceof HTMLElement){var t=e.getBoundingClientRect();return{top:t.top+window.pageYOffset,left:t.left+window.pageXOffset}}return{top:null,left:null}},setHeight:function(){var a=document.querySelector("#kmt-"+m.activeHeader+"-header");if(m.enabledSections=[],Object.keys(m.stickySections).map(function(e,t){var i=a.querySelector("."+e+"-header-bar"),n=a.querySelector(".kmt-"+e+"-header-wrap");i.setAttribute("data-offset",m.getOffset(n).top),i.setAttribute("data-height",i.offsetHeight),"on"===(m.isMobile?m.stickySections[e].mobileEnable:m.stickySections[e].enable)&&m.enabledSections.push(e)}),"on"==kemet.stickyMain&&"on"==kemet.enableShrink){var e=a.querySelector(".main-header-bar"),t=a.querySelector(".main-header-bar .kmt-grid-row");e.setAttribute("data-start-height",t.offsetHeight)}},setShrinkHeight:function(){var e=document.querySelector("#kmt-"+m.activeHeader+"-header"),t=m.isMobile?kemet.shrinkMobileHeight:kemet.shrinkHeight,i=e.querySelector(".site-main-header-wrap .kmt-grid-row"),n=e.querySelector(".main-header-bar"),a=(e.querySelector(".kmt-main-header-wrap"),n.getAttribute("data-start-height"));n.classList.contains("kmt-is-sticky")?(i.style.height=t+"px",i.style.minHeight=t+"px",i.style.maxHeight=t+"px"):(i.style.height=a+"px",i.style.minHeight=a+"px",i.style.maxHeight=a+"px")},offSetTop:function(e){var t=document.querySelector("#kmt-"+m.activeHeader+"-header"),i=t.querySelector(".top-header-bar").getAttribute("data-offset"),n=t.querySelector(".main-header-bar"),a=n.getAttribute("data-offset"),o=t.querySelector(".bottom-header-bar").getAttribute("data-offset"),r=0,s=0,c=m.isMobile?kemet.shrinkMobileHeight:kemet.shrinkHeight,d=m.enabledSections;switch(e){case"main":r=a,d.includes("top")&&(s=a,r=i);break;case"bottom":r=o;var l=parseInt(n.getAttribute("data-start-height"));shrinkHeight=Math.abs(l-c),shrinkHeight=c<l?parseInt(n.getAttribute("data-height"))-shrinkHeight:parseInt(n.getAttribute("data-height"))+shrinkHeight;var h="on"==kemet.enableShrink?shrinkHeight:t.querySelector(".kmt-main-header-wrap").offsetHeight,k=t.querySelector(".kmt-top-header-wrap").offsetHeight;d.includes("main")&&!d.includes("top")&&(s=h,r=a),!d.includes("main")&&d.includes("top")&&(r=o-(s=k)),d.includes("main")&&d.includes("top")&&(s="on"==kemet.enableShrink?h+k:o,r=i)}return{offSet:r,top:s}},sticky:function(){kemet.break_point<=window.innerWidth?(m.activeHeader="desktop",m.isMobile=!1):(m.activeHeader="mobile",m.isMobile=!0),Object.keys(m.stickySections).map(function(e,t){"on"===(m.isMobile?m.stickySections[e].mobileEnable:m.stickySections[e].enable)&&m.stickySection(e)})}};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",m.init):m.init()}((window,document));